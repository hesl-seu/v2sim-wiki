# 生成和编辑电动汽车充电站

在图形用户界面中生成和编辑电动汽车充电站很容易。

## 生成电动汽车充电站
分别切换到 `快充站` 和 `慢充站` 以生成不同类型的充电站。如果您使用的是真实世界的道路网络，我们强烈建议您从下载的位置生成充电站。点击 `生成` 按钮来生成充电站。快充站和慢充站都必须生成才能进行仿真。

此页面下半部分有一个大的标签框架，包含一些充电站生成的重要参数。

![alt text](../imgs/5.png)

在第一行，您将看到每个充电站中的**充电桩数量**和**随机种子**。前一个参数表示单个充电站中有多少个充电桩，后一个参数表示随机化的结果，这有助于可重复的实验。

**充电站源路段**有 3 个选项：
+ **所有路段**：使用所有可达路段作为充电站。这是默认选项，但不推荐用于真实世界案例，因为它可能会创建过多的充电站。

+ **由下载的充电站位置确定的路段**：使用充电站下载器的结果。下载的充电站位置会附加到最近的路段。**注意**：此选项仅在侧边栏中的 `充电站 CSV 描述符` 不为空且道路网络是从 OSMWebWizard 创建时才可用。

+ **由建筑物轮廓确定的路段**：使用存储在道路网络中的特定类型多边形的中心。这些计算出的中心点将附加到最近的路段。**注意**：此选项仅在侧边栏中的 `多边形描述符` 不为空时才可用。

**生成模式**有 3 个选项：
+ **所有可用的**：生成所有充电站。这是默认选项。

+ **指定**：根据给定的充电站位置生成充电站。在文本框中指定充电站，用逗号 `,` 分隔。不允许有空格。

+ **随机 N**：随机选择 $N$ 个充电站进行生成。在文本框中输入 $N$。

**用户购买/出售价格**有 2 个选项：
+ **5 段随机**：对于每一天，随机生成 5 段价格。价格围绕给定的基准价格浮动。详情请阅读源代码 `v2sim\trafficgen\__init__.py: TrafficGenerator._CS.write`。

+ **固定**：在整个仿真过程中价格固定为给定值。在文本框中输入价格。

**母线选择模式**有 4 个选项：

+ **按母线位置**：充电站将被分配给最近的母线。这是默认选项。**注意**：此选项仅在电网已定义且所有母线的位置都在电网中指定时才可用。**如果并非所有母线的位置都在电网中指定，此选项仍然可用，但其工作方式将不可预测！**

+ **所有可用的**：从所有可用母线中随机选择一个母线分配给充电站。

+ **指定**：从给定的母线中随机选择一个母线分配给充电站。

+ **随机 N**：从所有可用母线中随机选择 $N$ 个母线，然后从这 $N$ 个母线中随机选择一个母线分配给充电站。

选择您的偏好后，您可以点击 `生成` 来创建充电站。如果生成过程尚未完成，请勿重复点击 `生成`。进度显示在命令提示符中。

如果您熟悉命令提示符，可以使用 `v2sim-gen-cs` 或 `v2simux-gen-cs` 来生成充电站，其介绍存储在[此处](v2sim/tools/gen_cs)。

### 编辑一个电动汽车充电站
在此页面顶部，列出了案例中的所有电动汽车充电站。如果尚未生成电动汽车充电站，则可能为空。双击项目进行编辑。

**请注意，并非所有属性都可编辑。** 例如，不允许在图形用户界面中直接编辑 `Edge`/`Node` 列，因为这可能会破坏案例。请直接在编辑器（如记事本或 VSCode 等）中打开文件进行编辑。充电站定义文件（慢充站为 *.scs.xml，快充站为 *.fcs.xml）遵循 XML 格式。请访问[充电站格式](../cs)获取详细信息。

项目下方左侧是一个**计数器**（图中显示为 `Count: 10`），右侧是一个**搜索框**（带有一个 `查找` 按钮）。在搜索框中输入充电站的路段并点击 `查找` 以快速定位充电站。