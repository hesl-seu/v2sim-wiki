# 编辑和生成充电站

在本主题中，我们将讨论如何使用图形界面和命令提示符来生成和编辑充电站。

**重要提示：** 如果生成过程尚未完成，请勿重复点击 `生成充电站` 按钮。由于某些原因，进度信息会在命令提示符中显示，而不会在弹出消息框中显示。

## 图形界面版本
我们推荐使用图形界面来生成充电站，因为这种方式简单直观。选择 `快充站` 或 `慢充站` 标签页，即可进入充电站编辑和生成页面。

![cs](https://github.com/user-attachments/assets/b3fac033-73be-45c8-8604-58ebfdcdac76)

### 编辑充电站
在该页面顶部，列出了案例中的所有充电站。如果尚未生成充电站，此列表可能为空。双击列表项即可进行编辑。

**请注意，并非所有属性都可编辑。** 例如，不允许在图形界面中直接编辑 `Edge` 列，因为这可能会损坏案例。请直接在编辑器（如记事本或VSCode等）中打开文件进行编辑。充电站定义文件（SCS对应 *.scs.xml，FCS对应 *.fcs.xml）遵循XML格式。请参阅[充电站格式](../cs)了解详细信息。

列表下方左侧有一个**计数器**（图中显示为`计数：10`），右侧有一个**搜索框**（带有一个`查找`按钮）。在搜索框中输入充电站所在的边，然后点击`查找`即可快速定位到该充电站。

### 生成充电站
有一个大的标签框架包含了充电站生成的一些重要参数。

第一行是每个充电站的**充电桩数量**和**随机种子**。前者表示单个充电站中的充电桩数量，后者表示随机化结果，有助于实现可重复的实验。

**充电站源边**有3个选项：
+ **所有边**：使用所有可到达的边作为充电站。这是默认选项，但不推荐用于真实世界案例，因为它可能会创建过多的充电站。
+ **由下载的充电站位置确定的边**：使用充电站下载器的结果。下载的充电站位置会被附加到最近的边上。**注意**：仅当侧边栏中的`充电站CSV描述`不为空且路网是从OSMWebWizard创建时，此选项才可用。
+ **由建筑物轮廓确定的边**：使用存储在路网中的特定类型多边形的中心。这些计算出的中心点将被附加到最近的边上。**注意**：仅当侧边栏中的`建筑轮廓描述`不为空时，此选项才可用。

**生成模式**有3个选项：
+ **所有可用的**：生成所有充电站。这是默认选项。
+ **指定**：根据给定的充电站位置生成充电站。在文本框中分配充电站，用逗号`,`分隔，不允许有空格。
+ **随机N个**：随机选择$N$个充电站进行生成。在文本框中输入$N$。

**用户买/卖电价**有2个选项：
+ **5段随机**：每天随机生成5段电价。价格围绕给定的基础价格浮动。详情请阅读源代码`v2sim\trafficgen\__init__.py: TrafficGenerator._CS.write`。
+ **固定**：在整个仿真期间，价格固定为给定值。在文本框中输入价格。

**母线选择模式**有4个选项：
+ **按母线位置**：充电站将被分配到最近的母线。这是默认选项。**注意**：仅当电网已定义且所有母线的位置都在电网中指定时，此选项才可用。**如果并非所有母线的位置都在电网中指定，此选项仍然可用，但其工作方式将不可预测！**
+ **所有可用的**：从所有可用母线中随机选择一个母线分配给充电站。
+ **指定**：从给定的母线中随机选择一个母线分配给充电站。
+ **随机N个**：从所有可用母线中随机选择$N$个母线，然后从这$N$个母线中随机选择一个分配给充电站。

## 命令提示符版本
如果您熟悉命令提示符，可以使用`python gen_cs.py`命令生成充电站。使用说明位于[这个文档](/#/zh_hans/v2sim/tools/gen_cs)。