# 快速绘图工具

此工具根据仿真结果数据生成可视化图形。它处理结果文件并为不同的电力系统组件创建各种图表。

### 基本用法
```bash
v2sim-plot -d <输入目录> [选项]
```

### 必需参数
- `-d <目录>`: 指定包含仿真结果的输入目录

### 主要选项
- `-c`: 在生成新图之前清除现有的图形文件
- `-r`: 递归模式 - 处理所有子目录
- `-q`: 快速模式 - 仅生成汇总图，跳过单个组件图
- `-b <时间>`: 绘图的开始时间（默认：0）
- `-e <时间>`: 绘图的结束时间（默认：-1，表示直到结束）
- `--plotmax`: 启用最大绘图（影响快充站/慢充站累积图）

### 组件特定绘图选项

**快充站**
- `--fcs-wcnt`: 绘制等待计数
- `--fcs-load`: 绘制负荷
- `--fcs-price`: 绘制价格

**慢充站**
- `--scs-wcnt`: 绘制等待计数
- `--scs-cload`: 绘制充电负荷
- `--scs-dload`: 绘制放电负荷
- `--scs-netload`: 绘制净负荷
- `--scs-v2gcap`: 绘制车对网容量
- `--scs-pbuy`: 绘制购买价格
- `--scs-psell`: 绘制出售价格

**母线**
- `--bus-activel`: 绘制有功负荷
- `--bus-reactivel`: 绘制无功负荷
- `--bus-volt`: 绘制电压
- `--bus-activeg`: 绘制有功发电
- `--bus-reactiveg`: 绘制无功发电

**发电机**
- `--gen-active`: 绘制有功功率
- `--gen-reactive`: 绘制无功功率
- `--gen-costp`: 绘制成本

**线路**
- `--line-active`: 绘制有功功率
- `--line-reactive`: 绘制无功功率
- `--line-current`: 绘制电流

**光伏/风电**
- `--pvw-P`: 绘制功率
- `--pvw-cr`: 绘制容量比

**储能系统**
- `--ess-P`: 绘制功率
- `--ess-soc`: 绘制荷电状态

### 示例

1. **在目录中生成所有图形：**
   ```bash
   v2sim-plot -d /路径/到/结果
   ```

2. **递归清除并重新生成图形：**
   ```bash
   v2sim-plot -d /路径/到/结果 -c -r
   ```

3. **指定时间范围的快速模式：**
   ```bash
   v2sim-plot -d /路径/到/结果 -q -b 100 -e 1000
   ```

4. **仅绘制快充站和母线数据：**
   ```bash
   v2sim-plot -d /路径/到/结果 --fcs-wcnt --fcs-load --bus-volt --bus-activel
   ```

### 输出
- 在结果文件夹中创建一个 `figures` 目录
- 生成汇总图和单个组件图
- 在绘图过程中提供进度反馈
- 优雅处理缺失的结果文件

### 注意
- 该工具要求输入目录中存在 `cproc.clog` 文件
- 如果未指定绘图选项，则不会生成任何图形
- 该工具支持单个目录处理和递归目录遍历
- 对于无效参数或缺失的输入目录，会提供错误信息